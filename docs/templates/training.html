<!DOCTYPE html>
<html>

<body>
    <span id="training-body-text-before"></span>
    <span id="training-body-header-training"></span>
    <span id="training-body-training"></span>
    <span id="training-body-header-certificates"></span>
    <span id="training-body-certificates"></span>
    <span id="training-body-see-more"></span>
    <span id="cursor">|</span>

    <script>
        let hr = "==============================================================================================="
        let isWritten = false;
        let isDone = false;
        let sawMore = false;
        let speed = 20;

        let textBefore = document.getElementById("training-body-text-before");
        let headerTraining = document.getElementById("training-body-header-training");
        let training = document.getElementById("training-body-training");
        let headerCertificates = document.getElementById("training-body-header-certificates");
        let certificates = document.getElementById("training-body-certificates");
        let seeMoreText = document.getElementById("training-body-see-more");

        async function textWriter() {
            if (!isWritten) {
                isWritten = true;
                await typeWriterBr(textBefore, ["C:> type formação.txt", hr], speed);
                await typeWriterBr(headerTraining, ["█▀▀ █▀█ █▀█ █▀▄▀█ ▄▀█ █▀▀ ▄▀█ █▀█",
                    "█▀░ █▄█ █▀▄ █░▀░█ █▀█ █▄▄ █▀█ █▄█", ""
                ], speed);
                await typeWriterBr(training, [hr, "", "Faculdade de Tecnologia da Zona Leste",
                    "Tecnólogo, Análise e Desenvolvimento de Sistemas",
                    "jul de 2018 - jun de 2023", "", hr
                ], speed);

                await typeWriterBr(headerCertificates, ["█▀▀ █▀▀ █▀█ ▀█▀ █ █▀▀ █ █▀▀ ▄▀█ █▀▄ █▀█ █▀",
                    "█▄▄ ██▄ █▀▄ ░█░ █ █▀░ █ █▄▄ █▀█ █▄▀ █▄█ ▄█", ""
                ], speed);

                // "Avançado"
                await typeWriterBr(certificates, [hr, "", "CertiProf",
                    "Scrum Foundation Professional Certificate",
                    "agosto de 2019", "",

                    "DIO",
                    "Implementando Collections e Streams com Java,",
                    "com carga horária de 6 horas.",
                    "junho de 2021", ""
                ], speed);

                await typeWriter(seeMoreText, ["Pressione 'Enter' para ver mais..."
                ], speed);

                isDone = true;
            }
        }

        async function seeMoreContent() {
            if (isDone && !sawMore) {
                isDone = false;
                sawMore = true;
                seeMoreText.innerHTML = '';

                await typeWriterBr(certificates, ["DIO",
                    "Introdução ao framework Spring Boot,",
                    "com carga horária de 2 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Trabalhando com Branches no Github,",
                    "com carga horária de 4 horas.",
                    "agosto de 2021", "",

                    "DIO",
                    "Conceitos e melhores práticas com bancos de dados PostgreSQL,",
                    "com carga horária de 9 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Técnicas avançadas em Angular 8,",
                    "com carga horária de 8 horas.",
                    "julho de 2021", "",

                    "DIO",
                    "Desenvolvimento avançado em Java,",
                    "com carga horária de 8 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Desenvolvimento avançado em Java,",
                    "com carga horária de 6 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Aprenda a aplicar testes com Java,",
                    "com carga horária de 2 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Aplicações avançadas com Angular,",
                    "com carga horária de 6 horas.",
                    "agosto de 2021", "",

                    "DIO",
                    "Desenvolvimento básico em Java,",
                    "com carga horária de 9 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Java - Trabalhando com Collections,",
                    "com carga horária de 6 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Introdução ao Git e ao GitHub,",
                    "com carga horária de 5 horas.",
                    "junho de 2021", "",

                    "DIO",
                    "Introdução a criação de websites com HTML5 e CSS3,",
                    "com carga horária de 6 horas.",
                    "julho de 2021", "",

                    "DIO",
                    "Introdução ao Angular 8,",
                    "com carga horária de 5 horas.",
                    "julho de 2021"
                ], speed);
                isDone = true;
            }
        }

        function textClear() {
            if (isDone) {
                textBefore.innerHTML = "";
                headerTraining.innerHTML = "";
                training.innerHTML = "";
                headerCertificates.innerHTML = "";
                certificates.innerHTML = "";
                seeMoreText.innerHTML = "";
                isWritten = false;
                isDone = false;
                sawMore = false;
            }
        }

        function delayPromise(timeout) {
            return new Promise(resolve => setTimeout(resolve, timeout));
        }

        async function delayedForEachString(string, timeout, callback) {
            if (string === hr) timeout = 2;
            for (let i = 0; i < string.length; i++) {
                await delayPromise(timeout);
                callback(string.charAt(i));
            }
        }

        async function typeWriterBr(element, arr, timeout) {
            for (let i = 0; i < arr.length; i++) {
                await delayedForEachString(arr[i], timeout, (char) => {
                    element.innerHTML += char;
                });
                element.innerHTML += '<br>';
            }
        }

        async function typeWriter(element, arr, timeout) {
            for (let i = 0; i < arr.length; i++) {
                await delayedForEachString(arr[i], timeout, (char) => {
                    element.innerHTML += char;
                });
            }
        }

        document.addEventListener('keydown', function (event) {
            if (event.keyCode === 13) {
                seeMoreContent();
            }
        });

        document.addEventListener('touchstart', function (event) {
            seeMoreContent();
        });
    </script>
</body>

</html>